# Material

Tafel 1 nicht hochgeladen

[20260205_131952.pdf](https://moodle.dhbw.de/mod/resource/view.php?id=380668)

Tafeläquivalente:

[02.02.21 0820.pdf](https://moodle.dhbw.de/mod/resource/view.php?id=365694) (Portion 4)

## Gleitkommazahlen (GKZ)

Mantissse: Festkommazahl
Exponent: ganze Zahl

$Wert(GKZ) = Mantisse * b^{\text{Exponent}}$

Exponent beschreibt die Kommaverschiebung

=> zwei mögliche Richtungenm werden beschrieben über das Vorzeichen

Darstellung von (auch) negativen Exponenten

> Zweierkomplement?
> 
> Typ Anwendung: Zahlenvergleich von zwei normalisierten Gleitkommazahlen:
> Größenvergleich der Exponenten: größerer Exponent => größere Zahl
>
> 73 = 0001001001 => 1110110111 = -73
> 41 = 0000101001 => 1111010111 = -41
>
> 73 > 41 : stimmt
> -41 > -73 : stimmt
> 41 > -73 : nach dieser Reglung nicht gezeigt.
>
> Hierfür wäre eine Fallentscheidung nötwendig,
> Diese will man sich sparen!

Deshalb: Bias-Darstellung des Exponenten

=> Der reale Exponent wird "künstlich" (durch aufaddieren eines festen "Bias") ins nicht-negative verschoben
=> $\text{Exp}_{\text{gesp}}$ = $\text{Exp}_{\text{real}} + \text{Bias}$

bei 10bit wäre der typische (empfohlene) Bias z.B. 511

=> Wertebereich für $\text{Exp}_\text{real}$ ist zwischen -511 und +512

(Auchtung: gegenüber dem Wertebereich mit Zweierkomplement ist dieser um 1 nach oben verschoben.)

Um negative Gleitkommazahlen darstellen zu können, müssen wir auch die Mantisse negativ darstellen.

Darstellung von negativen Mantissen:

> Zweierkomplement?
>
> Anwendungsbeispiel: Addition von zwei normalisierten Gleichtkommazahlen
>
> $1,001 \cdot 2^5 = 0,1001 \cdot 2^6$
> $1,0101 \cdot 2^6 = 1,0100 \cdot 2^6$
>
> 0,1001 + 1,0100 = 1,1101 : stimmt
>
> Konvertieren in der 2er Komplement:
> 1,001 => 01,001 => 10,110 => 10,111
>
> $10,111 \cdot 2^5 = 1,0111 \cdot 2^6$
> $01,010 \cdot 2^6 = 1,0100 \cdot 2^6$
>
> Diese Zahl wäre wieder positiv. Um das zu verhindern, müsste man bei negativen Zahlen mit `1` auffüllen.
>
> Eine Fallentscheidung wäre notwendig.
> Wall man sich sparen!

Deshalab: Mantisse wird mit Vorzeichen und Betrag gespeichert.

Und das Zweierkomplement?

- Wird verwendet für (auch) negative ganze Zahlen (signed Integer)
- Für das Rechnen mit Gleitkommazahlen (Temporäre Umwandlung einer negativen Mantisse ins Zweierkomplement)

Normalisierte Darstellung: nur eine Vorkommastelle, diese ist nicht 0
Und im Binärsystem: Diese Vorkommastelle ist immer 1!

=> Für diese 1 muss kein Speicherplatz vorgehalten werden, d.h. sie erscheint im gespeicherten Bit [unlesbar] der Mantisse nicht, und dieses bit kann für eine weitere Nachkommastelle genutzt werden (also höhere Genauigkeit)
=> "Hidden Bit" Darstellung!

Problem: mit Hidden Bit ist der Wert der Gleitkommazahl nie 0.

=> Abhilfe: reserviertes Bitmuster, genauer ein reservierter Exponentenwert bei dem auf Normalisierung und Hidden Bit verzichtet wird!

Wir haben nun Gleitkommazahlen nach **IEEE 754**:

| Name   | Speichermenge | Vorzeichen | Mantisse | Exponent | Bias |
| ------ | ------------- | ---------- | -------- | -------- | ---- |
| Half   | 16            | 1          | 10       | 5        | 15   |
| Single | 32            | 1          | 23       | 8        | 127  |
| Double | 64            | 1          | 52       | 11       | 1023 |

Reihenfolge: Vorzeichen - Exponent - Mantisse

Reservierte Bitmuster: 

- Exponent nur Nullen => Keine normalisierte Darstellung, kein hidden Bit und Mantisse = 0, Vorzeichen = 0
- Exponent nur Einsen => Fehler, Zahl ist nicht darstellbar. Wenn die Mantisse = 0, dann bedeutet es, dass Sie übergelaufen ist.
- Exponent nur Einsen, Mantisse nicht nur Nullen => NaN

**Überschlägiges Rechnen mit Zweierpotenzen**

$2^{10} = 1024 \approx 1000 = 10^3$

$2^{128} = 2^8 \cdot 2^{120} = 2^8 \cdot (2^{10})^{12} \approx 2^8 \cdot 1000^{12} \approx \frac{1}{4} \text{Sextilliarde}$

**Darstellbarer Wertebereich mit 16 bit**

Ganze, nicht negative Zahlen: von 0 bis $2^{16} - 1 = 65535$

Ganze Zahlen im Zweierkomplement: von $-32768$ bis $32767$

Gleitkommazahl "Half":

Größze Zahl:

$\color{red}Vorzeichen$
$\color{yellow}Exponent$
$\color{pink}Mantisse$
$\color{green}\text{Hidden Bit}$
$\color{blue}\text{Bias}$

$$
\color{red}0
\color{yellow}11110
\color{pink}1111111111
\color{white}=
\color{pink} (2 - \frac{1}{1024})
\color{white}\cdot 2
\color{yellow}^{15}
\color{white}= 2^{16} - 2^5
=65504
$$

$$
\color{yellow}11110_2 \color{white}= \color{yellow}30_{10}
$$

$$
\color{yellow}30 \color{white}- \color{blue}15 \color{white}= \color{yellow}15
$$

$$
\color{pink} 1111111111_2 
\color{white}\Rightarrow 
\color{green}1,
\color{pink} 1111111111 
\color{white}= 
\color{pink} 2 - 2^{-10} 
\color{white}=
\color{pink} 2 - \frac{1}{1024}
$$

Kleinste Zahl: -65504, da nur das Vorzeichen sich ändert

Kleinste Zahl $\gt 0$, normalisiert:

$$
\color{red}0
\color{yellow}00001
\color{pink}0000000000
\color{white}=
\color{pink} 1
\color{white}\cdot 2
\color{yellow}^{-14}
\color{white}= \frac{1}{16384}
$$

$$
\color{yellow}1 \color{white}- \color{blue}15 \color{white}= \color{yellow}-14
$$

$$
\color{pink} 0000000000_2 
\color{white}\Rightarrow 
\color{green}1,
\color{pink} 0000000000 
\color{white}= 
\color{pink} 1
$$

Kleinste Zahl $\gt 0$, nicht normalisiert:

$$
\color{red}0
\color{yellow}00000
\color{pink}0000000001
\color{white}=
\color{pink} 2^{-10}
\color{white}\cdot 2
\color{yellow}^{-14}
\color{white}= 2^{-24}
$$

$$
\color{yellow}00000_2 \color{white}\Rightarrow \color{yellow}-14
$$

$$
\color{pink} 0000000001_2 
\color{white}\Rightarrow 
\color{green}0,
\color{pink} 0000000001
\color{white}= 
\color{pink} 2^{-10}
$$

Da wir insgesamt nur $2^{16}$ verschiedene Zahlenwerte darstellen können, müssen die Abstände zwischen benachbarten Zahlen deutlich größer sein!

z.B. Abstand (größte und zweitgrößte Zahl) = 32

## Umrechnung einer Dezimal Kommazahl in eine Gleitkommazahl im Binärsystem

z.B. $-0,13$, also $-1,3 \cdot 10^{-1}$

1. Vorzeichen merken, weiter mit Betrag

$1,3 \cdot 10^{-1}$ Negatives Vorzeichen merken

2. Darstellung als eine Festkommazahl

$0,13$

3. Kommazahl ins Binärsystem umrechnen

Vorkommaanteil über Ganzzahlendivision, Nachkommaanteil über Multiplikation bis die relevante Anzahl Nachkommastellen für die gewünschte Genauigkeit erreicht ist, also die Stellen nach der führenden 1.

$0,13_{10} \cdot 2 = 0,26 \Rightarrow 0$
$0,26 \cdot 2 = 0,52 \Rightarrow 0$
$0,52 \cdot 2 = 1,04 \Rightarrow 1$
$0,04 \cdot 2 = 0,08 \Rightarrow 0$
$0,08 \cdot 2 = 0,16 \Rightarrow 0$
$0,16 \cdot 2 = 0,32 \Rightarrow 0$
$0,32 \cdot 2 = 0,64 \Rightarrow 0$
$0,64 \cdot 2 = 1,28 \Rightarrow 1$
$0,28 \cdot 2 = 0,56 \Rightarrow 0$
$0,56 \cdot 2 = 1,12 \Rightarrow 1$
$0,12 \cdot 2 = 0,24 \Rightarrow 0$
$0,24 \cdot 2 = 0,48 \Rightarrow 0$
$0,48 \cdot 2 = 0,96 \Rightarrow 0$

$0,00\color{green}1\color{pink}0000101000_2$

4. Exponenten bestimmen, indem das Komma hinter die führende 1 geschoben wird

$0,0010000101000 = 1,0000101000 \cdot 2^{-3}$

5. & 6. Exponenten bestimmen, also Bias aufaddieren

$-3 + 15 = 12$

$12_{10} = \color{yellow}01100_2$

7. Bitmuster notieren

$$
\color{red}1
\color{yellow}01100
\color{pink}0000101000
$$